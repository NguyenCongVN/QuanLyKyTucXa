//Cơ sở dữ liệu DB2

CREATE TABLE ACCOUNT(
	MAUSER VARGRAPHIC(10) NOT NULL PRIMARY KEY,
	USERNAME VARGRAPHIC(30) NOT NULL,
	PASSWORD VARGRAPHIC(30) NOT NULL,
	QUYEN INT NOT NULL
	)

CREATE TABLE KHOI(
	MAKHOI VARGRAPHIC(10) NOT NULL PRIMARY KEY,
	TENKHOI VARGRAPHIC(20) NOT NULL
	)

CREATE TABLE MONHOC(
	MAMH VARGRAPHIC(10) NOT NULL PRIMARY KEY,
	TENMH VARGRAPHIC(60) NOT NULL,
	HINHTHUCTHI VARGRAPHIC(10) NOT NULL
	 )
CREATE TABLE GIAOVIEN(MAGV VARGRAPHIC(10) NOT NULL PRIMARY KEY,
	HOGV VARGRAPHIC(60) NOT NULL,
	TENGV VARGRAPHIC(60) NOT NULL,
	GIOITINH SMALLINT NOT NULL,
	NGAYSINH DATE NOT NULL,
	DIACHI VARGRAPHIC(100) NOT NULL,
	SDT VARGRAPHIC(10) NOT NULL
	)


CREATE TABLE LOP(
	MALOP VARGRAPHIC(10) NOT NULL PRIMARY KEY,
	TENLOP VARGRAPHIC(60) NOT NULL,
	MAKHOI VARGRAPHIC(10) NOT NULL FORREIGN2 REFERENCES KHOI(MAKHOI)ON DELETE CASCADE,
	NAMHOC VARGRAPHIC(10) NOT NULL,
	MAGVCN VARGRAPHIC(10) NOT NULL FORREIGN3 REFERENCES GIAOVIEN(MAGV) ON DELETE CASCADE
	)


CREATE TABLE CTL_MH(
	MALOP VARGRAPHIC(10) NOT NULL FORREIGN11 REFERENCES LOP(MALOP)ON DELETE CASCADE,
	MAMH VARGRAPHIC(10) NOT NULL FORREIGN12 REFERENCES MONHOC(MAMH)ON DELETE CASCADE, 
	CONSTRAINT PK PRIMARY KEY(MALOP,MAMH)
	)

CREATE TABLE HOCSINH(
	MAHS VARGRAPHIC(10) NOT NULL PRIMARY KEY,
	HOHS VARGRAPHIC(60) NOT NULL,
	TENHS VARGRAPHIC(60) NOT NULL,
	GIOITINH SMALLINT NOT NULL,
	NGAYSINH DATE NOT NULL,
	TENCHA VARGRAPHIC(60) NOT NULL,
	TENME VARGRAPHIC(60) NOT NULL,
	MALOP VARGRAPHIC(10) NOT NULL FORREIGN4 REFERENCES LOP(MALOP)ON DELETE CASCADE DIACHI VARGRAPHIC(100) NOT NULL,
	SDT VARGRAPHIC(10) NOT NULL
	)

CREATE TABLE DIEM(
	MAMH VARGRAPHIC(10) NOT NULL FORREIGN5 REFERENCES MONHOC(MAMH)ON DELETE CASCADE,
	MAHS VARGRAPHIC(10) NOT NULL FORREIGN6 REFERENCES HOCSINH(MAHS)ON DELETE CASCADE,
	DIEMGK INTEGER CHECK(DIEMGK>=0),
	DIEMCK INTEGER CHECK(DIEMCK>=0) ,
	CONSTRAINT PK PRIMARY KEY(MAHS,MAMH,HOCKY) , 
	NAMHOC VARGRAPHIC(10) NOT NULL,
	HOCKY INT NOT NULL
	)

CREATE TABLE NHANXET(
	NGAYNX DATE NOT NULL PRIMARY KEY,
	MAHS VARGRAPHIC(10) NOT NULL FORREIGN8 REFERENCES HOCSINH(MAHS)ON DELETE CASCADE,
	MAMH VARGRAPHIC(10) NOT NULL FORREIGN9 REFERENCES MONHOC(MAMH)ON DELETE CASCADE,
	MAGV VARGRAPHIC(10) NOT NULL FORREIGN10 REFERENCES GIAOVIEN(MAGV)ON DELETE CASCADE,
	NXET VARGRAPHIC(100) NOT NULL,
	CONSTRAINT PK PRIMARY KEY(MAHS,MAMH,NGAYNX)
	)








